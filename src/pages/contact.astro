---
import BaseLayout from '../layouts/BaseLayout.astro';

const title = 'Contact Us - AI Startup & Fintech Investment Fund';
const description = 'Get in touch with WiseVenture for AI startup funding, fintech investment opportunities, or tech advisory services. We support AI native founders and fintech startups.';
const keywords = 'contact AI startup fund, fintech investment contact, startup funding inquiry, AI startup advisory contact, fintech startup support, investment fund contact';
---

<BaseLayout title={title} description={description} keywords={keywords}>
  <div class="min-h-screen py-8 sm:py-12 bg-black">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Header -->
      <div class="text-center mb-10 sm:mb-16">
        <div class="inline-block mb-3 sm:mb-4">
          <span class="text-white/40 text-sm sm:text-base md:text-lg font-mono tracking-[0.2em] uppercase font-normal">GET IN TOUCH</span>
        </div>
        <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4 px-2">
          <span class="text-white">Contact</span>
          <span class="text-white"> Us</span>
        </h1>
        <p class="text-base sm:text-lg md:text-xl text-white/60 max-w-3xl mx-auto px-4 font-light">
          We look forward to collaborating with you to explore the infinite possibilities in AI startups and fintech
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-8 sm:gap-12">
        <!-- Contact Form -->
        <div class="bg-black border border-white/15 rounded-none p-6 sm:p-8">
          <h2 class="text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6">Send Message</h2>
          <form id="contact-form" class="space-y-4 sm:space-y-6">
            <div id="form-status"></div>
            <div>
              <label for="name" class="block text-xs sm:text-sm font-medium text-white/60 mb-2">
                Name *
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                class="w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-black border border-white/25 text-white text-sm sm:text-base rounded-none focus:ring-0 focus:border-white/40 outline-none transition"
                placeholder="Your name"
              />
            </div>
            <div>
              <label for="email" class="block text-xs sm:text-sm font-medium text-white/60 mb-2">
                Email *
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-black border border-white/25 text-white text-sm sm:text-base rounded-none focus:ring-0 focus:border-white/40 outline-none transition"
                placeholder="your.email@example.com"
              />
            </div>
            <div>
              <label for="company" class="block text-xs sm:text-sm font-medium text-white/60 mb-2">
                Company
              </label>
              <input
                type="text"
                id="company"
                name="company"
                class="w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-black border border-white/25 text-white text-sm sm:text-base rounded-none focus:ring-0 focus:border-white/40 outline-none transition"
                placeholder="Your company name"
              />
            </div>
            <div>
              <label for="message" class="block text-xs sm:text-sm font-medium text-white/60 mb-2">
                Message *
              </label>
              <textarea
                id="message"
                name="message"
                required
                rows="5"
                class="w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-black border border-white/25 text-white text-sm sm:text-base rounded-none focus:ring-0 focus:border-white/40 outline-none transition resize-none"
                placeholder="Tell us about your needs or questions..."
              ></textarea>
            </div>
            <button
              type="submit"
              id="submit-btn"
              class="w-full bg-white text-black py-2.5 sm:py-3 rounded-none text-sm sm:text-base font-medium hover:bg-white/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
            >
              Send Message
            </button>
          </form>
        </div>

        <!-- Contact Information -->
        <div class="space-y-6 sm:space-y-8">
          <div class="bg-black border border-white/15 rounded-none p-6 sm:p-8">
            <h2 class="text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6">Contact Information</h2>
            <div class="space-y-4 sm:space-y-6">
              <div class="flex items-start">
                <div class="ml-3 sm:ml-4">
                  <h3 class="text-base sm:text-lg font-semibold text-white mb-1">Email</h3>
                  <a href="mailto:info@wisecom.biz" class="text-white/60 hover:text-white transition-colors text-sm sm:text-base break-all font-light">
                    info@wisecom.biz
                  </a>
                </div>
              </div>
              <div class="flex items-start">
                <div class="ml-3 sm:ml-4">
                  <h3 class="text-base sm:text-lg font-semibold text-white mb-1">Address</h3>
                  <p class="text-white/60 text-sm sm:text-base font-light">
                    8F, No. 42, Xuchang Street<br />
                    Zhongzheng District, Taipei, Taiwan
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-black border border-white/15 rounded-none p-6 sm:p-8">
            <h2 class="text-xl sm:text-2xl font-bold text-white mb-3 sm:mb-4">Business Hours</h2>
            <div class="space-y-2 text-white/60 text-sm sm:text-base font-light">
              <div class="flex justify-between">
                <span>Monday - Friday</span>
                <span class="font-normal text-white/60">09:00 - 18:00</span>
              </div>
              <div class="flex justify-between">
                <span>Saturday</span>
                <span class="font-normal text-white/30">Closed</span>
              </div>
              <div class="flex justify-between">
                <span>Sunday</span>
                <span class="font-normal text-white/30">Closed</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>

<script>
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const submitBtn = document.getElementById('submit-btn') as HTMLButtonElement;
  const statusDiv = document.getElementById('form-status') as HTMLDivElement;

  if (form && submitBtn && statusDiv) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = {
        name: (document.getElementById('name') as HTMLInputElement).value,
        email: (document.getElementById('email') as HTMLInputElement).value,
        company: (document.getElementById('company') as HTMLInputElement).value,
        message: (document.getElementById('message') as HTMLTextAreaElement).value,
      };

      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';
      statusDiv.innerHTML = '';

      try {
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData),
        });

        const data = await response.json();

        if (response.ok) {
          statusDiv.innerHTML = `<div class="mb-4 sm:mb-6 p-3 sm:p-4 rounded-none border bg-green-500/10 border-green-500/50 text-green-400"><p class="text-sm sm:text-base">${data.message || 'Message sent successfully! We will contact you soon.'}</p></div>`;
          form.reset();
        } else {
          statusDiv.innerHTML = `<div class="mb-4 sm:mb-6 p-3 sm:p-4 rounded-none border bg-red-500/10 border-red-500/50 text-red-400"><p class="text-sm sm:text-base">${data.error || 'An error occurred. Please try again later.'}</p></div>`;
        }
      } catch (error) {
        statusDiv.innerHTML = `<div class="mb-4 sm:mb-6 p-3 sm:p-4 rounded-none border bg-red-500/10 border-red-500/50 text-red-400"><p class="text-sm sm:text-base">An error occurred. Please try again later.</p></div>`;
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send Message';
      }
    });
  }
</script>

